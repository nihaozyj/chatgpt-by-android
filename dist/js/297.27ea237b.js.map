{"version":3,"file":"js/297.27ea237b.js","mappings":"+2CA0FA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAUC,EAAAA,EAAAA,IAAS,CAAC,GAU1B,SAASC,EAAMC,GACb,MAAMC,EAASC,KAAKC,MAAMH,GAAgB,iKAC1CH,EAAQO,MAAQH,EAAOG,MACvBP,EAAQQ,QAAUJ,EAAOI,QACzBR,EAAQS,SAAWL,EAAOK,SAC1BT,EAAQU,gBAAkBN,EAAOM,gBACjCV,EAAQW,IAAMP,EAAOO,IACrBX,EAAQY,QAAUR,EAAOQ,QACzBZ,EAAQa,MAAQT,EAAOS,MACvBb,EAAQQ,QAAUJ,EAAOI,QACzBR,EAAQc,YAAcV,EAAOU,YAC7Bd,EAAQe,SAAWX,EAAOW,SAC1Bf,EAAQgB,cAAgBZ,EAAOY,aACjC,C,OArBAC,EAAAA,EAAAA,KAAUC,UACRhB,EAAMiB,aAAanB,UACnBoB,EAAAA,EAAAA,IAAMpB,GAAS,KACbmB,aAAanB,QAAUK,KAAKgB,UAAUrB,EAAQ,IAEhDA,EAAQQ,eAAiBc,EAAAA,EAAAA,OAAcC,aAAa,I,44EC5FtD,MAAMC,GAA2B,OAAgB,IAAQ,CAAC,CAAC,YAAY,qBAEvE,e","sources":["webpack://easygpt/./src/pages/Setting.vue","webpack://easygpt/./src/pages/Setting.vue?c548"],"sourcesContent":["<template>\r\n  <div class=\"container\" :class=\"setting.theme ? 'bright' : 'dark'\" :style=\"'font-size:' + setting.fontSize + 'em'\">\r\n    <!-- 头部导航 -->\r\n    <van-nav-bar title=\"GPT相关配置\" left-arrow @click-left=\"router.back()\" />\r\n    <div class=\"setting-scroll\">\r\n      <div class=\"setting\">\r\n        <div class=\"block\">\r\n          <div class=\"item\">\r\n            <h3>主题（ 暗 / 亮 ）</h3>\r\n            <van-switch v-model=\"setting.theme\" />\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>字体大小</h3>\r\n            <van-slider v-model=\"setting.fontSize\" max=\"1.3\" min=\"0.8\" step=\"0.01\">\r\n              <template #button>\r\n                <div class=\"custom-button\">{{ setting.fontSize }}</div>\r\n              </template>\r\n            </van-slider>\r\n          </div>\r\n        </div>\r\n        <div class=\"block\">\r\n          <div class=\"item\">\r\n            <h3>API KEY</h3>\r\n            <van-field v-model=\"setting.key\" placeholder=\"输入您的 KEY\" />\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>启用代理</h3>\r\n            <van-field v-model=\"setting.baseUrl\" placeholder=\"https://api.openai.com\" />\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>模型</h3>\r\n            <select v-model=\"setting.model\">\r\n              <option>gpt-3.5-turbo</option>\r\n              <option>gpt-4</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>余额</h3>\r\n            <span style=\"color:#1989FA; font-weight: bold;\">剩余 {{ setting.balance }} P</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>随机性</h3>\r\n            <van-slider v-model=\"setting.temperature\" max=\"2\" min=\"0\" step=\"0.1\">\r\n              <template #button>\r\n                <div class=\"custom-button\">{{ setting.temperature }}</div>\r\n              </template>\r\n            </van-slider>\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>Token限制</h3>\r\n            <van-slider v-model=\"setting.maxToken\" max=\"4000\" min=\"100\" step=\"100\">\r\n              <template #button>\r\n                <div class=\"custom-button\">{{ setting.maxToken }}</div>\r\n              </template>\r\n            </van-slider>\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>携带历史消息数</h3>\r\n            <van-slider v-model=\"setting.historyNumber\" max=\"10\" min=\"0\" step=\"1\">\r\n              <template #button>\r\n                <div class=\"custom-button\">{{ setting.historyNumber }}</div>\r\n              </template>\r\n            </van-slider>\r\n          </div>\r\n        </div>\r\n        <div class=\"block\">\r\n          <div class=\"item\">\r\n            <h3>关于 EasyGPT</h3>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>帮助文档</h3>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n          <div class=\"item\">\r\n            <h3>打赏</h3>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n        </div>\r\n        <van-button type=\"primary\" @click=\"reset()\">恢复默认值</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, onMounted, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { getBalance } from '@/api'\r\n\r\nconst router = useRouter()\r\nconst setting = reactive({})\r\n\r\nonMounted(async () => {\r\n  reset(localStorage.setting)\r\n  watch(setting, () => {\r\n    localStorage.setting = JSON.stringify(setting)\r\n  })\r\n  setting.balance = (await getBalance()).total_granted\r\n})\r\n\r\nfunction reset(settingJson) {\r\n  const config = JSON.parse(settingJson || `{\"theme\":true,\"fontSize\":1,\"key\":\"\",\"baseUrl\":\"https://api.openai.com\",\"model\":\"gpt-3.5-turbo\",\"balance\":0,\"temperature\":1,\"maxToken\":2000,\"historyNumber\":2}`)\r\n  setting.theme = config.theme\r\n  setting.balance = config.balance\r\n  setting.fontSize = config.fontSize\r\n  setting.useMarkdownView = config.useMarkdownView\r\n  setting.key = config.key\r\n  setting.baseUrl = config.baseUrl\r\n  setting.model = config.model\r\n  setting.balance = config.balance\r\n  setting.temperature = config.temperature\r\n  setting.maxToken = config.maxToken\r\n  setting.historyNumber = config.historyNumber\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/style/global.scss';\r\n\r\n// 黑夜\r\n.dark {\r\n  background-color: $backgroundColorD;\r\n  color: $colorMinorD;\r\n\r\n  .van-field {\r\n    background-color: $backgroundColorStressD;\r\n\r\n    ::v-deep * {\r\n      color: $colorMinorD;\r\n    }\r\n  }\r\n\r\n  .van-cell:after {\r\n    border: none;\r\n  }\r\n\r\n  ::v-deep [class*=van-hairline]::after {\r\n    border-color: $backgroundColorStressD;\r\n  }\r\n\r\n  .van-nav-bar {\r\n    ::v-deep * {\r\n      color: $colorMinor;\r\n    }\r\n\r\n    span {\r\n      color: $mainColorD;\r\n    }\r\n\r\n    ::v-deep .van-nav-bar__content {\r\n      background-color: $backgroundColorD;\r\n    }\r\n\r\n    .message-count {\r\n      color: $colorMinorD;\r\n      background-color: $backgroundColorD;\r\n    }\r\n  }\r\n\r\n  .setting {\r\n    .block {\r\n      background-color: $backgroundColorStressD;\r\n\r\n      .item {\r\n        border-bottom: 1px solid $backgroundColorD;\r\n\r\n        select {\r\n          background-color: #0000;\r\n          border: 1px solid $backgroundColorD;\r\n        }\r\n\r\n        .van-field {\r\n          border: 1px solid $backgroundColorD;\r\n        }\r\n\r\n        .custom-button {\r\n          background-color: $mainColorD;\r\n          color: $backgroundColorStressD;\r\n        }\r\n      }\r\n\r\n      .icon-wrapper .van-icon-underway {\r\n        color: rgb(255, 135, 80);\r\n      }\r\n\r\n      .icon-wrapper .van-icon-smile {\r\n        color: $mainColorD;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 白天\r\n.bright {\r\n  background-color: $backgroundColor;\r\n\r\n  .setting {\r\n    .block {\r\n      background-color: $backgroundColorStress;\r\n\r\n      .item {\r\n        border-bottom: 1px solid $backgroundColor;\r\n\r\n        select {\r\n          background-color: #0000;\r\n          border: 1px solid $backgroundColor;\r\n        }\r\n\r\n        .van-field {\r\n          border: 1px solid $backgroundColor;\r\n        }\r\n\r\n        .custom-button {\r\n          background-color: $mainColor;\r\n          color: $backgroundColorStress;\r\n        }\r\n      }\r\n\r\n      .icon-wrapper .van-icon-underway {\r\n        color: rgb(255, 135, 80);\r\n      }\r\n\r\n      .icon-wrapper .van-icon-smile {\r\n        color: $mainColorD;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 常规\r\n.container {\r\n  .setting-scroll {\r\n    height: calc(100vh - 46px);\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .setting {\r\n    width: 100%;\r\n    padding-bottom: 100px;\r\n\r\n    .van-button {\r\n      margin: 0 10px;\r\n      width: calc(100% - 20px);\r\n      font-size: 1em;\r\n    }\r\n\r\n    .block {\r\n      padding: 2px 5px;\r\n      // background-color: $backgroundColorStress;\r\n      margin: 10px;\r\n      border-radius: 6px;\r\n\r\n      .item {\r\n        // border-bottom: 1px solid $backgroundColor;\r\n        line-height: 3.5em;\r\n        padding: 0 5px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        select {\r\n          padding: 5px 10px;\r\n          // background-color: #0000;\r\n          // border: 1px solid $backgroundColor;\r\n          border-radius: 5px;\r\n        }\r\n\r\n        .van-button {\r\n          width: 20%;\r\n          margin-right: 0;\r\n          font-size: 1em;\r\n        }\r\n\r\n        .van-field {\r\n          max-width: 70%;\r\n          // border: 1px solid $backgroundColor;\r\n          padding: .3em 1em;\r\n          border-radius: 5px;\r\n          font-size: 1em;\r\n        }\r\n\r\n        .van-slider {\r\n          width: 50%;\r\n          margin-right: 32px;\r\n          font-size: 1em;\r\n\r\n          .custom-button {\r\n            padding: 5px 10px;\r\n            // background-color: $mainColor;\r\n            height: 1em;\r\n            line-height: 1em;\r\n            border-radius: 10px;\r\n            // color: $backgroundColorStress;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n\r\n        .icon-wrapper {\r\n          display: flex;\r\n          width: 100%;\r\n          justify-content: center;\r\n          align-items: center;\r\n          font-size: 1em;\r\n        }\r\n\r\n        // .icon-wrapper .van-icon-underway {\r\n        //   color: rgb(255, 135, 80);\r\n        // }\r\n\r\n        // .icon-wrapper .van-icon-smile {\r\n        //   color: $mainColor;\r\n        // }\r\n\r\n        h3 {\r\n          font-weight: bold;\r\n        }\r\n\r\n        &:nth-last-child(1) {\r\n          border: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./Setting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Setting.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Setting.vue?vue&type=style&index=0&id=03bb658a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\nihao\\\\Desktop\\\\easygpt\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-03bb658a\"]])\n\nexport default __exports__"],"names":["router","useRouter","setting","reactive","reset","settingJson","config","JSON","parse","theme","balance","fontSize","useMarkdownView","key","baseUrl","model","temperature","maxToken","historyNumber","onMounted","async","localStorage","watch","stringify","getBalance","total_granted","__exports__"],"sourceRoot":""}