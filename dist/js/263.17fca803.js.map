{"version":3,"file":"js/263.17fca803.js","mappings":"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","sources":["webpack://easygpt/./src/pages/Home.vue","webpack://easygpt/./src/pages/Home.vue?b9ed","webpack://easygpt/./node_modules/vant/es/action-bar/ActionBar.mjs","webpack://easygpt/./node_modules/vant/es/action-bar/index.mjs","webpack://easygpt/./node_modules/vant/es/action-bar-button/ActionBarButton.mjs","webpack://easygpt/./node_modules/vant/es/action-bar-button/index.mjs","webpack://easygpt/./node_modules/vant/es/dialog/Dialog.mjs","webpack://easygpt/./node_modules/vant/es/dialog/function-call.mjs"],"sourcesContent":["<template>\r\n  <div class=\"container\" :class=\"setting.theme ? 'bright' : 'dark'\" :style=\"'font-size:' + setting.fontSize + 'em'\">\r\n    <!-- 头部导航 -->\r\n    <van-nav-bar title=\"会话记录\" @click-right=\"router.push('/setting')\" @click-left=\"router.push('/preinstall')\">\r\n      <template #left>\r\n        <span>管理预设</span>\r\n      </template>\r\n      <template #right>\r\n        <span>配置 GPT</span>\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 会话记录滚动区 -->\r\n    <div class=\"history-scroll\">\r\n      <div class=\"content\">\r\n        <van-empty v-if=\"historys.length == 0\" description=\"会话记录为空\" />\r\n        <!-- 历史记录列表 -->\r\n        <div class=\"item\" v-for=\"item in historys\" :key=\"item.id\" v-long-press=\"() => deleteSession(item.id)\"\r\n          @click=\"openSession(item)\">\r\n          <div>\r\n            <h2>{{ item.role.name }}</h2>\r\n          </div>\r\n          <div>\r\n            <span>{{ item.dialog.length }} 条对话</span>\r\n            <span>{{ getFormatDate(item.dialog) }}</span>\r\n          </div>\r\n        </div>\r\n        <!-- 占位 50 px -->\r\n        <div class=\"end\"></div>\r\n      </div>\r\n    </div>\r\n    <!-- '创建对话' 按钮 -->\r\n    <van-button icon=\"plus\" type=\"primary\" text=\"创建对话\" @click=\"router.push('/create-session')\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive } from 'vue'\r\nimport { formatDate, onLongPress } from '@/utils'\r\nimport { useRouter } from 'vue-router'\r\nimport { httpHistorys, httpDeleteSession } from '@/api'\r\nimport { showConfirmDialog, showToast } from 'vant'\r\n\r\nconst router = useRouter()\r\n\r\nconst vLongPress = onLongPress\r\n\r\nconst historys = reactive([])\r\n\r\nconst setting = reactive({})\r\n\r\n// historys 数据格式\r\n// [\r\n//   {\r\n//     id: 28,\r\n//     role: { name: '文档机器人', dialog: '' },\r\n//     dialog: [{ date: 1684808101175, role: 'user', text: '# 你好!' }]\r\n//   },\r\n// ]\r\n\r\nonMounted(async () => {\r\n  localStorage.removeItem('history')\r\n  // 初始化设置项\r\n  if (localStorage.setting) {\r\n    const result = JSON.parse(localStorage.setting)\r\n    setting.theme = result.theme\r\n    setting.fontSize = result.fontSize\r\n  }\r\n  const result = await httpHistorys()\r\n  if (!result) return showToast('获取历史数据失败！')\r\n  result.forEach(item => historys.push(item))\r\n})\r\n\r\nfunction deleteSession(id) {\r\n  showConfirmDialog({ message: '你确定要删除该记录吗 ?' })\r\n    .then(async () => {\r\n      const index = historys.findIndex(item => item.id == id)\r\n      const result = await httpDeleteSession(id)\r\n      if (result) {\r\n        historys.splice(index, 1)\r\n        showToast('删除失败!')\r\n      }\r\n      else {\r\n        showToast('删除失败!')\r\n      }\r\n    })\r\n    .catch(() => { })\r\n}\r\n\r\nfunction getFormatDate(dialog) {\r\n  if (dialog.length == 0) return '00:00'\r\n  // 与当前时间的时间差\r\n  const timestamp = dialog[dialog.length - 1].date\r\n  const gap = Date.now() - timestamp\r\n\r\n  if (gap < 60 * 1000) return '刚刚'\r\n  if (gap < 60 * 60 * 1000) return '1小时内'\r\n  if (gap < 24 * 60 * 60 * 1000) return formatDate(timestamp, \"DD日hh:mm\")\r\n  if (gap < 30 * 24 * 60 * 60 * 1000) return formatDate(timestamp, \"MM/DD hh:mm\")\r\n  return formatDate(timestamp, \"YYYY/MM/DD hh:mm\")\r\n}\r\n\r\nfunction openSession(item) {\r\n  localStorage.history = JSON.stringify({ ...item })\r\n  router.push('/')\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/style/global.scss';\r\n\r\n// 黑夜主题\r\n.dark {\r\n  background-color: $backgroundColorD;\r\n  color: $colorMinorD;\r\n\r\n  .van-field {\r\n    background-color: $backgroundColorStressD;\r\n\r\n    ::v-deep * {\r\n      color: $colorMinorD;\r\n    }\r\n  }\r\n\r\n  .van-cell:after {\r\n    border: none;\r\n  }\r\n\r\n  ::v-deep [class*=van-hairline]::after {\r\n    border-color: $backgroundColorStressD;\r\n  }\r\n\r\n  .van-nav-bar {\r\n    ::v-deep * {\r\n      color: $colorMinor;\r\n    }\r\n\r\n    span {\r\n      color: $mainColorD;\r\n    }\r\n\r\n    ::v-deep .van-nav-bar__content {\r\n      background-color: $backgroundColorD;\r\n    }\r\n\r\n    .message-count {\r\n      color: $colorMinorD;\r\n      background-color: $backgroundColorD;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    .item {\r\n      background-color: $backgroundColorStressD;\r\n\r\n      &>div {\r\n        &:nth-child(2) {\r\n          color: $colorMinorD;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 白天主题\r\n.bright {\r\n  background-color: $backgroundColor;\r\n\r\n  .van-nav-bar {\r\n    span {\r\n      color: $mainColor;\r\n      border: 1px solid $backgroundColor;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    .item {\r\n      background-color: $backgroundColorStress;\r\n\r\n      &>div {\r\n        &:nth-child(2) {\r\n          color: $colorMinor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 样式\r\n\r\n.container {\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n  // background-color: $backgroundColor;\r\n  padding-top: 46px;\r\n\r\n  .van-nav-bar {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 0;\r\n\r\n    span {\r\n      font-weight: bold;\r\n      // color: $mainColor;\r\n      // border: 1px solid $backgroundColor;\r\n      padding: 2px 10px;\r\n      border-radius: 5px;\r\n    }\r\n  }\r\n\r\n  &>.van-button {\r\n    position: fixed;\r\n    right: 20px;\r\n    bottom: 30px;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .history-scroll {\r\n    height: calc(100vh - 46px);\r\n    overflow-y: scroll;\r\n\r\n    .content {\r\n      .end {\r\n        height: 100px;\r\n      }\r\n\r\n      .item {\r\n        margin: 10px 12px;\r\n        padding: 12px;\r\n        border-radius: 6px;\r\n        // background-color: $backgroundColorStress;\r\n\r\n        &>div {\r\n          display: flex;\r\n          justify-content: space-between;\r\n\r\n          &:nth-child(1) {\r\n            margin-bottom: 18px;\r\n\r\n            h2 {\r\n              font-weight: bold;\r\n            }\r\n\r\n            .van-button {\r\n              margin-top: -7px;\r\n            }\r\n          }\r\n\r\n          &:nth-child(2) {\r\n            // color: $colorMinor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=757da1dd&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\nihao\\\\Desktop\\\\easygpt\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-757da1dd\"]])\n\nexport default __exports__","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, ref } from \"vue\";\nimport { truthProp, createNamespace } from \"../utils/index.mjs\";\nimport { useChildren } from \"@vant/use\";\nimport { usePlaceholder } from \"../composables/use-placeholder.mjs\";\nconst [name, bem] = createNamespace(\"action-bar\");\nconst ACTION_BAR_KEY = Symbol(name);\nconst actionBarProps = {\n  placeholder: Boolean,\n  safeAreaInsetBottom: truthProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: actionBarProps,\n  setup(props, {\n    slots\n  }) {\n    const root = ref();\n    const renderPlaceholder = usePlaceholder(root, bem);\n    const {\n      linkChildren\n    } = useChildren(ACTION_BAR_KEY);\n    linkChildren();\n    const renderActionBar = () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": [bem(), {\n          \"van-safe-area-bottom\": props.safeAreaInsetBottom\n        }]\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n    return () => {\n      if (props.placeholder) {\n        return renderPlaceholder(renderActionBar);\n      }\n      return renderActionBar();\n    };\n  }\n});\nexport {\n  ACTION_BAR_KEY,\n  actionBarProps,\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _ActionBar from \"./ActionBar.mjs\";\nconst ActionBar = withInstall(_ActionBar);\nvar stdin_default = ActionBar;\nimport { actionBarProps } from \"./ActionBar.mjs\";\nexport {\n  ActionBar,\n  actionBarProps,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { extend, createNamespace } from \"../utils/index.mjs\";\nimport { ACTION_BAR_KEY } from \"../action-bar/ActionBar.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useRoute, routeProps } from \"../composables/use-route.mjs\";\nimport { Button } from \"../button/index.mjs\";\nconst [name, bem] = createNamespace(\"action-bar-button\");\nconst actionBarButtonProps = extend({}, routeProps, {\n  type: String,\n  text: String,\n  icon: String,\n  color: String,\n  loading: Boolean,\n  disabled: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: actionBarButtonProps,\n  setup(props, {\n    slots\n  }) {\n    const route = useRoute();\n    const {\n      parent,\n      index\n    } = useParent(ACTION_BAR_KEY);\n    const isFirst = computed(() => {\n      if (parent) {\n        const prev = parent.children[index.value - 1];\n        return !(prev && \"isButton\" in prev);\n      }\n    });\n    const isLast = computed(() => {\n      if (parent) {\n        const next = parent.children[index.value + 1];\n        return !(next && \"isButton\" in next);\n      }\n    });\n    useExpose({\n      isButton: true\n    });\n    return () => {\n      const {\n        type,\n        icon,\n        text,\n        color,\n        loading,\n        disabled\n      } = props;\n      return _createVNode(Button, {\n        \"class\": bem([type, {\n          last: isLast.value,\n          first: isFirst.value\n        }]),\n        \"size\": \"large\",\n        \"type\": type,\n        \"icon\": icon,\n        \"color\": color,\n        \"loading\": loading,\n        \"disabled\": disabled,\n        \"onClick\": route\n      }, {\n        default: () => [slots.default ? slots.default() : text]\n      });\n    };\n  }\n});\nexport {\n  actionBarButtonProps,\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _ActionBarButton from \"./ActionBarButton.mjs\";\nconst ActionBarButton = withInstall(_ActionBarButton);\nvar stdin_default = ActionBarButton;\nimport { actionBarButtonProps } from \"./ActionBarButton.mjs\";\nexport {\n  ActionBarButton,\n  actionBarButtonProps,\n  stdin_default as default\n};\n","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, withKeys, defineComponent } from \"vue\";\nimport { noop, pick, extend, addUnit, truthProp, isFunction, BORDER_TOP, BORDER_LEFT, unknownProp, numericProp, makeStringProp, callInterceptor, createNamespace } from \"../utils/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Button } from \"../button/index.mjs\";\nimport { ActionBar } from \"../action-bar/index.mjs\";\nimport { ActionBarButton } from \"../action-bar-button/index.mjs\";\nconst [name, bem, t] = createNamespace(\"dialog\");\nconst dialogProps = extend({}, popupSharedProps, {\n  title: String,\n  theme: String,\n  width: numericProp,\n  message: [String, Function],\n  callback: Function,\n  allowHtml: Boolean,\n  className: unknownProp,\n  transition: makeStringProp(\"van-dialog-bounce\"),\n  messageAlign: String,\n  closeOnPopstate: truthProp,\n  showCancelButton: Boolean,\n  cancelButtonText: String,\n  cancelButtonColor: String,\n  cancelButtonDisabled: Boolean,\n  confirmButtonText: String,\n  confirmButtonColor: String,\n  confirmButtonDisabled: Boolean,\n  showConfirmButton: truthProp,\n  closeOnClickOverlay: Boolean\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"transition\", \"closeOnPopstate\"];\nvar stdin_default = defineComponent({\n  name,\n  props: dialogProps,\n  emits: [\"confirm\", \"cancel\", \"keydown\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const loading = reactive({\n      confirm: false,\n      cancel: false\n    });\n    const updateShow = (value) => emit(\"update:show\", value);\n    const close = (action) => {\n      var _a;\n      updateShow(false);\n      (_a = props.callback) == null ? void 0 : _a.call(props, action);\n    };\n    const getActionHandler = (action) => () => {\n      if (!props.show) {\n        return;\n      }\n      emit(action);\n      if (props.beforeClose) {\n        loading[action] = true;\n        callInterceptor(props.beforeClose, {\n          args: [action],\n          done() {\n            close(action);\n            loading[action] = false;\n          },\n          canceled() {\n            loading[action] = false;\n          }\n        });\n      } else {\n        close(action);\n      }\n    };\n    const onCancel = getActionHandler(\"cancel\");\n    const onConfirm = getActionHandler(\"confirm\");\n    const onKeydown = withKeys((event) => {\n      var _a, _b;\n      if (event.target !== ((_b = (_a = root.value) == null ? void 0 : _a.popupRef) == null ? void 0 : _b.value)) {\n        return;\n      }\n      const onEventType = {\n        Enter: props.showConfirmButton ? onConfirm : noop,\n        Escape: props.showCancelButton ? onCancel : noop\n      };\n      onEventType[event.key]();\n      emit(\"keydown\", event);\n    }, [\"enter\", \"esc\"]);\n    const renderTitle = () => {\n      const title = slots.title ? slots.title() : props.title;\n      if (title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\", {\n            isolated: !props.message && !slots.default\n          })\n        }, [title]);\n      }\n    };\n    const renderMessage = (hasTitle) => {\n      const {\n        message,\n        allowHtml,\n        messageAlign\n      } = props;\n      const classNames = bem(\"message\", {\n        \"has-title\": hasTitle,\n        [messageAlign]: messageAlign\n      });\n      const content = isFunction(message) ? message() : message;\n      if (allowHtml && typeof content === \"string\") {\n        return _createVNode(\"div\", {\n          \"class\": classNames,\n          \"innerHTML\": content\n        }, null);\n      }\n      return _createVNode(\"div\", {\n        \"class\": classNames\n      }, [content]);\n    };\n    const renderContent = () => {\n      if (slots.default) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [slots.default()]);\n      }\n      const {\n        title,\n        message,\n        allowHtml\n      } = props;\n      if (message) {\n        const hasTitle = !!(title || slots.title);\n        return _createVNode(\"div\", {\n          \"key\": allowHtml ? 1 : 0,\n          \"class\": bem(\"content\", {\n            isolated: !hasTitle\n          })\n        }, [renderMessage(hasTitle)]);\n      }\n    };\n    const renderButtons = () => _createVNode(\"div\", {\n      \"class\": [BORDER_TOP, bem(\"footer\")]\n    }, [props.showCancelButton && _createVNode(Button, {\n      \"size\": \"large\",\n      \"text\": props.cancelButtonText || t(\"cancel\"),\n      \"class\": bem(\"cancel\"),\n      \"style\": {\n        color: props.cancelButtonColor\n      },\n      \"loading\": loading.cancel,\n      \"disabled\": props.cancelButtonDisabled,\n      \"onClick\": onCancel\n    }, null), props.showConfirmButton && _createVNode(Button, {\n      \"size\": \"large\",\n      \"text\": props.confirmButtonText || t(\"confirm\"),\n      \"class\": [bem(\"confirm\"), {\n        [BORDER_LEFT]: props.showCancelButton\n      }],\n      \"style\": {\n        color: props.confirmButtonColor\n      },\n      \"loading\": loading.confirm,\n      \"disabled\": props.confirmButtonDisabled,\n      \"onClick\": onConfirm\n    }, null)]);\n    const renderRoundButtons = () => _createVNode(ActionBar, {\n      \"class\": bem(\"footer\")\n    }, {\n      default: () => [props.showCancelButton && _createVNode(ActionBarButton, {\n        \"type\": \"warning\",\n        \"text\": props.cancelButtonText || t(\"cancel\"),\n        \"class\": bem(\"cancel\"),\n        \"color\": props.cancelButtonColor,\n        \"loading\": loading.cancel,\n        \"disabled\": props.cancelButtonDisabled,\n        \"onClick\": onCancel\n      }, null), props.showConfirmButton && _createVNode(ActionBarButton, {\n        \"type\": \"danger\",\n        \"text\": props.confirmButtonText || t(\"confirm\"),\n        \"class\": bem(\"confirm\"),\n        \"color\": props.confirmButtonColor,\n        \"loading\": loading.confirm,\n        \"disabled\": props.confirmButtonDisabled,\n        \"onClick\": onConfirm\n      }, null)]\n    });\n    const renderFooter = () => {\n      if (slots.footer) {\n        return slots.footer();\n      }\n      return props.theme === \"round-button\" ? renderRoundButtons() : renderButtons();\n    };\n    return () => {\n      const {\n        width,\n        title,\n        theme,\n        message,\n        className\n      } = props;\n      return _createVNode(Popup, _mergeProps({\n        \"ref\": root,\n        \"role\": \"dialog\",\n        \"class\": [bem([theme]), className],\n        \"style\": {\n          width: addUnit(width)\n        },\n        \"tabindex\": 0,\n        \"aria-labelledby\": title || message,\n        \"onKeydown\": onKeydown,\n        \"onUpdate:show\": updateShow\n      }, pick(props, popupInheritKeys)), {\n        default: () => [renderTitle(), renderContent(), renderFooter()]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  dialogProps\n};\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, inBrowser } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport Dialog from \"./Dialog.mjs\";\nlet instance;\nconst DEFAULT_OPTIONS = {\n  title: \"\",\n  width: \"\",\n  theme: null,\n  message: \"\",\n  overlay: true,\n  callback: null,\n  teleport: \"body\",\n  className: \"\",\n  allowHtml: false,\n  lockScroll: true,\n  transition: void 0,\n  beforeClose: null,\n  overlayClass: \"\",\n  overlayStyle: void 0,\n  messageAlign: \"\",\n  cancelButtonText: \"\",\n  cancelButtonColor: null,\n  cancelButtonDisabled: false,\n  confirmButtonText: \"\",\n  confirmButtonColor: null,\n  confirmButtonDisabled: false,\n  showConfirmButton: true,\n  showCancelButton: false,\n  closeOnPopstate: true,\n  closeOnClickOverlay: false\n};\nlet currentOptions = extend({}, DEFAULT_OPTIONS);\nfunction initInstance() {\n  const Wrapper = {\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      return () => _createVNode(Dialog, _mergeProps(state, {\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  };\n  ({\n    instance\n  } = mountComponent(Wrapper));\n}\nfunction showDialog(options) {\n  if (!inBrowser) {\n    return Promise.resolve();\n  }\n  return new Promise((resolve, reject) => {\n    if (!instance) {\n      initInstance();\n    }\n    instance.open(extend({}, currentOptions, options, {\n      callback: (action) => {\n        (action === \"confirm\" ? resolve : reject)(action);\n      }\n    }));\n  });\n}\nconst setDialogDefaultOptions = (options) => {\n  extend(currentOptions, options);\n};\nconst resetDialogDefaultOptions = () => {\n  currentOptions = extend({}, DEFAULT_OPTIONS);\n};\nconst showConfirmDialog = (options) => showDialog(extend({\n  showCancelButton: true\n}, options));\nconst closeDialog = () => {\n  if (instance) {\n    instance.toggle(false);\n  }\n};\nexport {\n  closeDialog,\n  resetDialogDefaultOptions,\n  setDialogDefaultOptions,\n  showConfirmDialog,\n  showDialog\n};\n"],"names":["router","useRouter","vLongPress","onLongPress","historys","reactive","setting","deleteSession","id","showConfirmDialog","message","then","async","index","findIndex","item","result","httpDeleteSession","splice","showToast","catch","getFormatDate","dialog","length","timestamp","date","gap","Date","now","formatDate","openSession","localStorage","history","JSON","stringify","push","onMounted","removeItem","parse","theme","fontSize","httpHistorys","forEach","__exports__","name","bem","createNamespace","ACTION_BAR_KEY","Symbol","actionBarProps","placeholder","Boolean","safeAreaInsetBottom","truthProp","stdin_default","defineComponent","props","setup","slots","root","ref","renderPlaceholder","usePlaceholder","linkChildren","useChildren","renderActionBar","_a","_createVNode","default","call","ActionBar","withInstall","_ActionBar","actionBarButtonProps","extend","routeProps","type","String","text","icon","color","loading","disabled","route","useRoute","parent","useParent","isFirst","computed","prev","children","value","isLast","next","useExpose","isButton","Button","last","first","ActionBarButton","_ActionBarButton","t","dialogProps","popupSharedProps","title","width","numericProp","Function","callback","allowHtml","className","unknownProp","transition","makeStringProp","messageAlign","closeOnPopstate","showCancelButton","cancelButtonText","cancelButtonColor","cancelButtonDisabled","confirmButtonText","confirmButtonColor","confirmButtonDisabled","showConfirmButton","closeOnClickOverlay","popupInheritKeys","popupSharedPropKeys","emits","emit","confirm","cancel","updateShow","close","action","getActionHandler","show","beforeClose","callInterceptor","args","done","canceled","onCancel","onConfirm","onKeydown","withKeys","event","_b","target","popupRef","onEventType","Enter","noop","Escape","key","renderTitle","isolated","renderMessage","hasTitle","classNames","content","isFunction","renderContent","renderButtons","BORDER_TOP","BORDER_LEFT","renderRoundButtons","renderFooter","footer","Popup","_mergeProps","addUnit","pick","instance","DEFAULT_OPTIONS","overlay","teleport","lockScroll","overlayClass","overlayStyle","currentOptions","initInstance","Wrapper","state","toggle","usePopupState","Dialog","mountComponent","showDialog","options","inBrowser","Promise","resolve","reject","open"],"sourceRoot":""}