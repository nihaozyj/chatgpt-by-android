"use strict";(self["webpackChunkeasygpt"]=self["webpackChunkeasygpt"]||[]).push([[924],{2032:function(t,n,a){a.a(t,(async function(t,e){try{a(7658);var i=a(3396),c=a(7139),o=a(4870),s=a(2483),l=a(7877),r=a(9733),u=t([l]);l=(u.then?(await u)():u)[0];const f=t=>((0,i.dD)("data-v-2d94cf09"),t=t(),(0,i.Cn)(),t),d={class:"history-scroll"},g={class:"content"},h=f((()=>(0,i._)("div",null,[(0,i._)("h2",null,"默认聊天机器人")],-1))),v=["onClick"],p=f((()=>(0,i._)("div",{class:"end"},null,-1)));n.Z={__name:"CreateSession",setup(t){const n=(0,s.tv)(),a=(0,o.qj)([]),e=(0,o.qj)({});async function u(t={name:"默认聊天机器人",dialog:""}){const a={id:Date.now(),role:{...t},dialog:[]},e=await(0,l.XO)(a);if(e)return localStorage.history=JSON.stringify(a),n.replace("/");(0,r.CF)("创建失败，请手动清除应用数据后再次尝试！")}return(0,i.YP)(a,(t=>{localStorage.preList=JSON.stringify(t)})),(0,i.bv)((()=>{if(localStorage.setting){const t=JSON.parse(localStorage.setting);e.theme=t.theme,e.fontSize=t.fontSize}if(localStorage.preList)try{const t=JSON.parse(localStorage.preList);a.push(...t)}catch(t){console.error(t)}})),(t,s)=>{const l=(0,i.up)("van-nav-bar"),r=(0,i.up)("van-text-ellipsis");return(0,i.wg)(),(0,i.iD)("div",{class:(0,c.C_)(["container",e.theme?"bright":"dark"]),style:(0,c.j5)("font-size:"+e.fontSize+"em")},[(0,i.Wm)(l,{title:"请选择一个预设",onClickLeft:s[0]||(s[0]=t=>(0,o.SU)(n).back()),"left-arrow":""}),(0,i._)("div",d,[(0,i._)("div",g,[(0,i._)("div",{class:"item",onClick:s[1]||(s[1]=t=>u())},[h,(0,i.Wm)(r,{rows:"3",content:"该预设有任何提示词！"})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t.id,onClick:n=>u(t)},[(0,i._)("div",null,[(0,i._)("h2",null,(0,c.zw)(t.name),1)]),(0,i.Wm)(r,{rows:"3",content:t.dialog},null,8,["content"])],8,v)))),128)),p])])],6)}}},e()}catch(f){e(f)}}))},2924:function(t,n,a){a.a(t,(async function(t,e){try{a.r(n);var i=a(5285),c=(a(5337),a(89)),o=t([i]);i=(o.then?(await o)():o)[0];const s=(0,c.Z)(i.Z,[["__scopeId","data-v-2d94cf09"]]);n["default"]=s,e()}catch(s){e(s)}}))},5337:function(){},5285:function(t,n,a){a.a(t,(async function(t,e){try{a.d(n,{Z:function(){return i.Z}});var i=a(2032),c=t([i]);i=(c.then?(await c)():c)[0],e()}catch(o){e(o)}}))}}]);
//# sourceMappingURL=924.f4a5b1da.js.map