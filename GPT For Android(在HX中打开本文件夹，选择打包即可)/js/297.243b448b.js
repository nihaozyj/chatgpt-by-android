"use strict";(self["webpackChunkeasygpt"]=self["webpackChunkeasygpt"]||[]).push([[297],{2088:function(e,t,l){l.a(e,(async function(e,n){try{l(7658);var o=l(3396),a=l(7139),s=l(4870),i=l(9242),c=l(2483),r=l(7877),u=l(5216),m=e([r]);r=(m.then?(await m)():m)[0];const d=e=>((0,o.dD)("data-v-46714bde"),e=e(),(0,o.Cn)(),e),p={class:"setting-scroll"},f={class:"setting"},b={class:"block"},h={class:"item"},g=d((()=>(0,o._)("h3",null,"主题（ 暗 / 亮 ）",-1))),v={class:"item"},w=d((()=>(0,o._)("h3",null,"字体大小",-1))),_={class:"custom-button"},y={class:"block"},B={class:"item"},k=d((()=>(0,o._)("h3",null,"API KEY",-1))),C={class:"item"},S=d((()=>(0,o._)("h3",null,"启用代理",-1))),W={class:"item"},x=d((()=>(0,o._)("h3",null,"模型",-1))),V=d((()=>(0,o._)("option",null,"gpt-3.5-turbo",-1))),T=d((()=>(0,o._)("option",null,"gpt-3.5-turbo-0301",-1))),U=d((()=>(0,o._)("option",null,"gpt-3.5-turbo-0613",-1))),z=d((()=>(0,o._)("option",null,"gpt-3.5-turbo-16k",-1))),P=d((()=>(0,o._)("option",null,"gpt-3.5-turbo-16k-0613",-1))),D=d((()=>(0,o._)("option",null,"gpt-4",-1))),N=d((()=>(0,o._)("option",null,"gpt-4-0314",-1))),O=d((()=>(0,o._)("option",null,"gpt-4-0613",-1))),Z=[V,T,U,z,P,D,N,O],A={class:"item"},H=d((()=>(0,o._)("h3",null,"余额",-1))),I={style:{color:"#1989FA","font-weight":"bold"}},G={class:"item"},E=d((()=>(0,o._)("h3",null,"随机性",-1))),F={class:"custom-button"},J={class:"item"},Y=d((()=>(0,o._)("h3",null,"消息字数限制",-1))),j={class:"custom-button"},M={class:"item"},K=d((()=>(0,o._)("h3",null,"携带历史消息数",-1))),$={class:"custom-button"},q={class:"block"},L=d((()=>(0,o._)("h3",null,"关于 EasyGPT",-1))),Q=d((()=>(0,o._)("h3",null,"帮助文档",-1))),R=d((()=>(0,o._)("h3",null,"打赏",-1)));t.Z={__name:"Setting",setup(e){const t=(0,c.tv)(),l=(0,s.qj)({});function n(e){const t=JSON.parse(e||'{"theme":true,"fontSize":1,"key":"","baseUrl":"","model":"gpt-3.5-turbo","balance":0,"temperature":1,"maxToken":2000,"historyNumber":2}');l.theme=t.theme,l.balance=t.balance,l.fontSize=t.fontSize,l.useMarkdownView=t.useMarkdownView,l.key=t.key,l.baseUrl=t.baseUrl,l.model=t.model,l.balance=t.balance,l.temperature=t.temperature,l.maxToken=t.maxToken,l.historyNumber=t.historyNumber}return(0,o.bv)((async()=>{n(localStorage.setting),(0,o.YP)(l,(()=>{localStorage.setting=JSON.stringify(l)})),(0,o.YP)((()=>l.model),(e=>{"gpt-4"==e&&(0,u.WD)({message:"GPT4 的价格约为 GPT3.5 的 30 倍以上，你确定要使用吗 ?"}).then((()=>{})).catch((()=>{l.model="gpt-3.5-turbo"}))})),(0,o.YP)((()=>l.theme),(()=>{window.$5PlusAPI&&window.$5PlusAPI.switchTheme(l.theme)})),l.balance=(await(0,r.sb)()).total_granted})),(e,c)=>{const r=(0,o.up)("van-nav-bar"),u=(0,o.up)("van-switch"),m=(0,o.up)("van-slider"),d=(0,o.up)("van-field"),V=(0,o.up)("van-icon"),T=(0,o.up)("van-button");return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["container",l.theme?"bright":"dark"]),style:(0,a.j5)("font-size:"+l.fontSize+"em")},[(0,o.Wm)(r,{title:"GPT相关配置","left-arrow":"",onClickLeft:c[0]||(c[0]=e=>(0,s.SU)(t).back())}),(0,o._)("div",p,[(0,o._)("div",f,[(0,o._)("div",b,[(0,o._)("div",h,[g,(0,o.Wm)(u,{modelValue:l.theme,"onUpdate:modelValue":c[1]||(c[1]=e=>l.theme=e)},null,8,["modelValue"])]),(0,o._)("div",v,[w,(0,o.Wm)(m,{modelValue:l.fontSize,"onUpdate:modelValue":c[2]||(c[2]=e=>l.fontSize=e),max:"1.3",min:"0.8",step:"0.01"},{button:(0,o.w5)((()=>[(0,o._)("div",_,(0,a.zw)(l.fontSize),1)])),_:1},8,["modelValue"])])]),(0,o._)("div",y,[(0,o._)("div",B,[k,(0,o.Wm)(d,{modelValue:l.key,"onUpdate:modelValue":c[3]||(c[3]=e=>l.key=e),placeholder:"输入您的 KEY"},null,8,["modelValue"])]),(0,o._)("div",C,[S,(0,o.Wm)(d,{modelValue:l.baseUrl,"onUpdate:modelValue":c[4]||(c[4]=e=>l.baseUrl=e),placeholder:"https://api.openai.com"},null,8,["modelValue"])]),(0,o._)("div",W,[x,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":c[5]||(c[5]=e=>l.model=e)},Z,512),[[i.bM,l.model]])]),(0,o._)("div",A,[H,(0,o._)("span",I,"剩余 "+(0,a.zw)(l.balance)+" P",1)]),(0,o._)("div",G,[E,(0,o.Wm)(m,{modelValue:l.temperature,"onUpdate:modelValue":c[6]||(c[6]=e=>l.temperature=e),max:"2",min:"0",step:"0.1"},{button:(0,o.w5)((()=>[(0,o._)("div",F,(0,a.zw)(l.temperature),1)])),_:1},8,["modelValue"])]),(0,o._)("div",J,[Y,(0,o.Wm)(m,{modelValue:l.maxToken,"onUpdate:modelValue":c[7]||(c[7]=e=>l.maxToken=e),max:"16000",min:"100",step:"100"},{button:(0,o.w5)((()=>[(0,o._)("div",j,(0,a.zw)(l.maxToken),1)])),_:1},8,["modelValue"])]),(0,o._)("div",M,[K,(0,o.Wm)(m,{modelValue:l.historyNumber,"onUpdate:modelValue":c[8]||(c[8]=e=>l.historyNumber=e),max:"256",min:"0",step:"1"},{button:(0,o.w5)((()=>[(0,o._)("div",$,(0,a.zw)(l.historyNumber),1)])),_:1},8,["modelValue"])])]),(0,o._)("div",q,[(0,o._)("div",{class:"item",onClick:c[9]||(c[9]=e=>(0,s.SU)(t).push("/about"))},[L,(0,o.Wm)(V,{name:"arrow"})]),(0,o._)("div",{class:"item",onClick:c[10]||(c[10]=e=>(0,s.SU)(t).push("/help"))},[Q,(0,o.Wm)(V,{name:"arrow"})]),(0,o._)("div",{class:"item",onClick:c[11]||(c[11]=e=>(0,s.SU)(t).push("/give-reward"))},[R,(0,o.Wm)(V,{name:"arrow"})])]),(0,o.Wm)(T,{type:"primary",onClick:c[12]||(c[12]=e=>n())},{default:(0,o.w5)((()=>[(0,o.Uk)("恢复默认值")])),_:1})])])],6)}}},n()}catch(d){n(d)}}))},3297:function(e,t,l){l.a(e,(async function(e,n){try{l.r(t);var o=l(2904),a=(l(4209),l(89)),s=e([o]);o=(s.then?(await s)():s)[0];const i=(0,a.Z)(o.Z,[["__scopeId","data-v-46714bde"]]);t["default"]=i,n()}catch(i){n(i)}}))},4209:function(){},2904:function(e,t,l){l.a(e,(async function(e,n){try{l.d(t,{Z:function(){return o.Z}});var o=l(2088),a=e([o]);o=(a.then?(await a)():a)[0],n()}catch(s){n(s)}}))},5216:function(e,t,l){l.d(t,{WD:function(){return Y},vC:function(){return J}});var n=l(3396),o=l(2220),a=l(7548),s=l(4870),i=l(9242),c=l(610),r=l(5323),u=l(9951),m=l(6491),d=l(5322),p=l(6048),f=l(4877),b=l(6305),h=l(9545),g=l(1404),v=l(253),w=l(4373);const[_,y]=(0,c["do"])("action-bar"),B=Symbol(_),k={placeholder:Boolean,safeAreaInsetBottom:r.J5};var C=(0,n.aZ)({name:_,props:k,setup(e,{slots:t}){const l=(0,s.iH)(),o=(0,w.J)(l,y),{linkChildren:a}=(0,v.$E)(B);a();const i=()=>{var o;return(0,n.Wm)("div",{ref:l,class:[y(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?o(i):i()}});const S=(0,g.n)(C);var W=l(3444),x=l(6014);const[V,T]=(0,c["do"])("action-bar-button"),U=(0,o.l7)({},x.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var z=(0,n.aZ)({name:V,props:U,setup(e,{slots:t}){const l=(0,x.yj)(),{parent:o,index:a}=(0,v.NB)(B),s=(0,n.Fl)((()=>{if(o){const e=o.children[a.value-1];return!(e&&"isButton"in e)}})),i=(0,n.Fl)((()=>{if(o){const e=o.children[a.value+1];return!(e&&"isButton"in e)}}));return(0,W.F)({isButton:!0}),()=>{const{type:o,icon:a,text:c,color:r,loading:u,disabled:m}=e;return(0,n.Wm)(h.zx,{class:T([o,{last:i.value,first:s.value}]),size:"large",type:o,icon:a,color:r,loading:u,disabled:m,onClick:l},{default:()=>[t.default?t.default():c]})}}});const P=(0,g.n)(z);const[D,N,O]=(0,c["do"])("dialog"),Z=(0,o.l7)({},f.W,{title:String,theme:String,width:r.Or,message:[String,Function],callback:Function,allowHtml:Boolean,className:r.Vg,transition:(0,r.SQ)("van-dialog-bounce"),messageAlign:String,closeOnPopstate:r.J5,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:r.J5,closeOnClickOverlay:Boolean}),A=[...f.m,"transition","closeOnPopstate"];var H=(0,n.aZ)({name:D,props:Z,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:l}){const a=(0,s.iH)(),c=(0,s.qj)({confirm:!1,cancel:!1}),r=e=>t("update:show",e),f=t=>{var l;r(!1),null==(l=e.callback)||l.call(e,t)},g=l=>()=>{e.show&&(t(l),e.beforeClose?(c[l]=!0,(0,u.I)(e.beforeClose,{args:[l],done(){f(l),c[l]=!1},canceled(){c[l]=!1}})):f(l))},v=g("cancel"),w=g("confirm"),_=(0,i.D2)((l=>{var n,s;if(l.target!==(null==(s=null==(n=a.value)?void 0:n.popupRef)?void 0:s.value))return;const i={Enter:e.showConfirmButton?w:o.ZT,Escape:e.showCancelButton?v:o.ZT};i[l.key](),t("keydown",l)}),["enter","esc"]),y=()=>{const t=l.title?l.title():e.title;if(t)return(0,n.Wm)("div",{class:N("header",{isolated:!e.message&&!l.default})},[t])},B=t=>{const{message:l,allowHtml:o,messageAlign:a}=e,s=N("message",{"has-title":t,[a]:a}),i=(0,m.mf)(l)?l():l;return o&&"string"===typeof i?(0,n.Wm)("div",{class:s,innerHTML:i},null):(0,n.Wm)("div",{class:s},[i])},k=()=>{if(l.default)return(0,n.Wm)("div",{class:N("content")},[l.default()]);const{title:t,message:o,allowHtml:a}=e;if(o){const e=!(!t&&!l.title);return(0,n.Wm)("div",{key:a?1:0,class:N("content",{isolated:!e})},[B(e)])}},C=()=>(0,n.Wm)("div",{class:[d.k7,N("footer")]},[e.showCancelButton&&(0,n.Wm)(h.zx,{size:"large",text:e.cancelButtonText||O("cancel"),class:N("cancel"),style:{color:e.cancelButtonColor},loading:c.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&(0,n.Wm)(h.zx,{size:"large",text:e.confirmButtonText||O("confirm"),class:[N("confirm"),{[d.a8]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:c.confirm,disabled:e.confirmButtonDisabled,onClick:w},null)]),W=()=>(0,n.Wm)(S,{class:N("footer")},{default:()=>[e.showCancelButton&&(0,n.Wm)(P,{type:"warning",text:e.cancelButtonText||O("cancel"),class:N("cancel"),color:e.cancelButtonColor,loading:c.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&(0,n.Wm)(P,{type:"danger",text:e.confirmButtonText||O("confirm"),class:N("confirm"),color:e.confirmButtonColor,loading:c.confirm,disabled:e.confirmButtonDisabled,onClick:w},null)]}),x=()=>l.footer?l.footer():"round-button"===e.theme?W():C();return()=>{const{width:t,title:l,theme:s,message:i,className:c}=e;return(0,n.Wm)(b.GI,(0,n.dG)({ref:a,role:"dialog",class:[N([s]),c],style:{width:(0,p.Nn)(t)},tabindex:0,"aria-labelledby":l||i,onKeydown:_,"onUpdate:show":r},(0,o.ei)(e,A)),{default:()=>[y(),k(),x()]})}}});let I;const G={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let E=(0,o.l7)({},G);function F(){const e={setup(){const{state:e,toggle:t}=(0,a.o)();return()=>(0,n.Wm)(H,(0,n.dG)(e,{"onUpdate:show":t}),null)}};({instance:I}=(0,a.H)(e))}function J(e){return o._f?new Promise(((t,l)=>{I||F(),I.open((0,o.l7)({},E,e,{callback:e=>{("confirm"===e?t:l)(e)}}))})):Promise.resolve()}const Y=e=>J((0,o.l7)({showCancelButton:!0},e))}}]);
//# sourceMappingURL=297.243b448b.js.map